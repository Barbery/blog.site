<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】 - Barbery&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="翻译之前，先简单介绍下自己的情况，避免误人子弟。。。本人英语不强（不是谦虚，真是很烂），我只是一个简简单单的CI程序猿。在现在到处都是RES">
  
  <meta itemprop="name" content="使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】 - Barbery&#39;s Blog">
  <meta itemprop="description" content="翻译之前，先简单介绍下自己的情况，避免误人子弟。。。本人英语不强（不是谦虚，真是很烂），我只是一个简简单单的CI程序猿。在现在到处都是RES">
  <meta itemprop="image" content="http://barbery.me/img/author.jpg">
  
  
  <meta name="twitter:description" content="">
  
  <link rel="shortcut icon" href="http://barbery.me/img/favicon.ico"/>
  <link rel="apple-touch-icon" href="http://barbery.me/apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="http://barbery.me/apple-touch-icon.png" />
  <link rel="stylesheet" href="http://barbery.me/highlight/styles/github.css">
  <script src="http://barbery.me/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="http://barbery.me/font/hack/css/hack.min.css">
  <link rel="stylesheet" href="http://barbery.me/css/style.css">
</head>

<body>
  <header>
    <div>
  
  <div id="textlogo">
    <h1 class="site-name"><a href="http://barbery.me/" title="Barbery&#39;s Blog">Barbery&#39;s Blog</a></h1>
    <h2 class="blog-motto">夫君子之行，静以修身，俭以养德。非淡泊无以明志，非宁静无以致远。夫学须静也，才须学也</h2>
  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <div class="social-font clearfix">
  
  <a href="http://weibo.com/stutostu" target="_blank" title="weibo"></a>
  
  
  
  <a href="https://github.com/Barbery" target="_blank" title="github"></a>
  
  
  
  <a href="https://cn.linkedin.com/in/BarberyXie" target="_blank" title="linkedin"></a>
  
</div>
  <nav class="animated">
    <ul>
      
      <li><a href="/">home</a></li>
      
      <li><a href="/about">about</a></li>
      
      <li><a href="/link">link</a></li>
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder="search">
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost" style="width:100%;">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="http://barbery.me/post/2012-08-19-%E4%BD%BF%E7%94%A8CodeIgniter%E5%88%9B%E5%BB%BARESTful%E6%9C%8D%E5%8A%A1RESTAPI%E5%8E%9F%E5%88%9B%E8%AF%91%E6%96%87/" title="使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】" itemprop="url">使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://barbery.me" title=""></a>
    
  </p>
  <p class="article-time">
    <time datetime="2012-08-19 21:59:00 &#43;0000 &#43;0000" itemprop="datePublished">2012年08月19日</time>
  </p>
</header>

	<div class="article-content">
    
    

<blockquote>
<p>翻译之前，先简单介绍下自己的情况，避免误人子弟。。。本人英语不强（不是谦虚，真是很烂），我只是一个简简单单的CI程序猿。在现在到处都是RESTful服务的时代，我想大家都像我这样有一个疑问，怎么让CI机遇RESTful 服务工作呢。。。我上网一搜，发现有篇国外的文章非常不错，我就简单翻译下，纯粹当成备份了。。。</p>

<p>牛人可直接看原文，原文地址：<a title="http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/" href="http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/" target="_blank" rel="nofollow" ><a href="http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/">http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/</a></a></p>
</blockquote>

<h1 id="font-style-font-weight-bold-介绍-font"><font style="font-weight: bold">介绍</font></h1>

<p>在现在这个时代，你很容易把例如blog，CMS等等的服务整合到自己的网站里面。有一件事你也许没想过就是利用CodeIgniter去创建API接口。尝试几个RESTful服务的实现方法后，我发现过程非常麻烦，而且缺少你所期望的一些RESTful的功能。所以我自己建了一个，这个教程将告诉你怎样去利用这些代码创建属于自己的REST API，而且我将举些例子告诉你如何与自己搭建的API进行交互。</p>

<h1 id="font-style-font-weight-bold-假设-font"><font style="font-weight: bold">假设</font></h1>

<ul>
<li><p>你有自己的web 服务器，可以是本地localhost的，也可以是线上的，而且你知道如何去管理里面的问文件</p>

<ul>
<li><p>你必须阅读过<a title="CodeIgniter from Scratch" href="http://net.tutsplus.com/videos/screencasts/codeigniter-from-scratch-day-7-pagination/" target="_blank" rel="nofollow" >CodeIgniter from Scratch</a>教程（译者注：也就是懂得使用CodeIgniter框架）</p>

<ul>
<li><p>懂得怎么设置CodeIgniter</p>

<ul>
<li>懂一点点RESTful 服务知识</ul>
这个教程将分成2个部分讲。第一部分将从学习如何搭建RESTful 服务说起，然后深入，第二部分将讲如何用多种方式与自己搭建的REST API交互。</li>
</ul>

<p>&nbsp;</p>

<h1 id="font-style-font-weight-bold-第一部分-创建rest-api-font"><font style="font-weight: bold">第一部分&mdash;创建REST API</font></h1>

<p>&nbsp;</p>

<p>##</p>

<p>##</p>

<h2 id="font-style-font-weight-bold-第一步-建立demo-font"><font style="font-weight: bold">第一步：建立demo</font></h2>

<p>首先，你需要从Git中下载一份 <a title="codeigniter-restserver" href="http://github.com/philsturgeon/codeigniter-restserver" target="_blank" rel="nofollow" >codeigniter-restserver</a> 代码回来。提取里面的代码，放置你的web server里面（<font color="#0000ff">译者注：下载方式如图所示，原作者的图片是Git改版前的，不适用于现在，所以本人斗胆替换掉了</font>）</p>

<p><a href="http://ww3.sinaimg.cn/large/6915c7dcjw1e69wa2xfdyj20rx07d0u1.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ww3.sinaimg.cn/large/6915c7dcjw1e69wa2xfdyj20rx07d0u1.jpg" width="640" height="170" /></a></p>

<p>下载回来解压后，你会发现这已经是一个完整的CodeIgniter框架。这样可以让大家完整的使用这个 REST demo，而不用添加进自己的文件里才能使用。</p>

<p>打开<font color="#c0504d"><em>“application/config/config.php”</em> ，</font><font color="#666666">根据自己的情况设置base_url。。（<font color="#0000ff">译者注：其实就是CI的根目录的地址，这个我想用过CI的都懂吧。如果你真的什么都不懂，那么你把下载回来后的文件解压，然后重命名为restserver，把整个文件夹丢到WWW根目录下，把base_url设置成如图所示</font>）</font></p>

<p><a href="http://ww4.sinaimg.cn/large/6915c7dcjw1e69waq8uqlj20eu04m3yv.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="set-base-url" border="0" alt="set-base-url" src="http://ww4.sinaimg.cn/large/6915c7dcjw1e69waq8uqlj20eu04m3yv.jpg" width="640" height="202" /></a></p>

<p>&nbsp;</p>

<h2 id="font-style-font-weight-bold-第二步-了解url-font"><font style="font-weight: bold">第二步：了解URL</font></h2>

<p>根据第一步的情况，解压好文件，配置好base_url，我们就已经可以访问已经配置好RESTful的CodeIgniter框架了。。打开你的web server，输入你刚才设置的base_url地址，看看是不是已经可以正常访问啦。。</p>

<p>下面讲解下RESTful 的URL结构。基本情况如图所示：</p>

<p><a href="http://ww1.sinaimg.cn/large/6915c7dcjw1e69wb8qvu1j20go03b0sw.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="url-disect-2" border="0" alt="url-disect-2" src="http://ww1.sinaimg.cn/large/6915c7dcjw1e69wb8qvu1j20go03b0sw.jpg" width="640" height="131" /></a></p>

<p>（<font color="#0000ff">译者注：这里的情况我就不多说了，只是说下RESTful的CodeIgniter与正常的情况下URL结构的差异，前面的传值和URL结构都和正常情况下一致，就是在最后添加了一个参数format，这里可以定义返回的类型</font>）</p>

<p>关于format的类型情况，可以看下图</p>

<p><a href="http://ww2.sinaimg.cn/large/6915c7dcjw1e69wbsvrx6j20kc09pdgs.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="output-examples (1)" border="0" alt="output-examples (1)" src="http://ww2.sinaimg.cn/large/6915c7dcjw1e69wbsvrx6j20kc09pdgs.jpg" width="640" height="306" /></a></p>

<p>为了让API提供更丰富的格式选择。。。format类型不仅仅只有上图所列举的3个情况，具体的类型如下所示：</p>

<ul>
<li><p><strong>xml</strong> – 几乎所有的语言都能识别XML格式</p>

<ul>
<li><p><strong>json</strong> – 对javascript和PHP APP非常有用. (<font color="#0000ff">译者注：其实还有一个jsonp格式</font>)</p>

<ul>
<li><p><strong>csv</strong> – 可以被电子表格程序打开</p>

<ul>
<li><p><strong>html</strong> – 不解释</p>

<ul>
<li><p><strong>php</strong> – 返回的PHP是可以被eval函数执行过的</p>

<ul>
<li><strong>serialized</strong> – 序列化格式，对PHP非常有用(<font color="#0000ff">译者注：原文有误，记得是有个d结尾</font>)</ul>
更RESTful的发送Content-type http 头部的方式将在后面提到。</li>
</ul>

<p>&nbsp;</p>

<h2 id="font-style-font-weight-bold-第三步-了解代码-font"><font style="font-weight: bold">第三步：了解代码</font></h2>

<p>现在，你打开 “_<font color="#c0504d">application/controllers/example_api.php</font>_”你立即会发现一些与正常CodeIgniter 控制器不同的地方。</p>

<h3 id="font-style-font-weight-bold-rest-controller-font"><font style="font-weight: bold">REST_Controller</font></h3>

<p>在MVC模式中，控制器是逻辑运算的中心。它们在用户请求或从控制器中获取数据时或者是需要输出html时，控制器的方法才会被调用。CodeIgniter 有它自己的逻辑来指挥控制器去怎么工作，但是我们现在情况和CodeIgniter不同，我们需要自己的REST_Controller 类 去指挥 相关的REST 逻辑运算，所以我们需要继承REST_Controller这个控制器。</p>

<p>正常情况下，我们的控制器是这样的</p>

<div class="dp-highlighter">
  <div class="bar">
  </div>

<p><ol class="dp-c">
    <li class="alt">
      <span><span>&lt;?php&nbsp;&nbsp; </span></span> <li>
        <span></span><span class="keyword">class</span><span> Example_api </span><span class="keyword">extends</span><span> Controller {&nbsp;&nbsp; </span></span> <li class="alt">
          <span>&nbsp; </span> <li>
            <span>}&nbsp;&nbsp; </span>
          </li></ol> </div>
          <p>
            现在我们需要变成这样
          </p></p>

<pre><code>      &lt;div class=&quot;dp-highlighter&quot;&gt;
        &lt;div class=&quot;bar&quot;&gt;
        &lt;/div&gt;

        &lt;ol class=&quot;dp-c&quot;&gt;
          &lt;li class=&quot;alt&quot;&gt;
            &lt;span&gt;&lt;span&gt;&lt;?php&amp;nbsp;&amp;nbsp;&lt;br /&gt; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
              &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;&lt;span&gt;(APPPATH'.libraries/REST_Controller.php');&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                  &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;span&gt; Example_api &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;span&gt; REST_Controller {&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                    &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                      &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt;
                    &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
                    &lt;p&gt;
                      （&lt;font color=&quot;#0000ff&quot;&gt;译者注：只能require REST_Controller 不能加入autoload 里面，至于为什么，擦，我也不懂&lt;/font&gt;）
                    &lt;/p&gt;

                    &lt;h3&gt;
                      &lt;font style=&quot;font-weight: bold&quot;&gt;添加方法&lt;/font&gt;
                    &lt;/h3&gt;

                    &lt;p&gt;
                      现在，你已经建立一个空的控制器了，那么让我们开始添加一些方法进去。一般来说，你要根据需要的资源和相应的HTTP操作来命名方法名。所以，下面的代码中你将看到有&lt;strong&gt;user&lt;/strong&gt;和&lt;strong&gt;users&lt;/strong&gt; 2个方法。
                    &lt;/p&gt;

                    &lt;div class=&quot;dp-highlighter&quot;&gt;
                      &lt;div class=&quot;bar&quot;&gt;
                      &lt;/div&gt;

                      &lt;ol class=&quot;dp-c&quot;&gt;
                        &lt;li class=&quot;alt&quot;&gt;
                          &lt;span&gt;&lt;span&gt;&lt;?php&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                            &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;&lt;span&gt;(APPPATH'.libraries/REST_Controller.php');&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                              &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;span&gt; Example_api &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;span&gt; REST_Controller {&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                  &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 返回关于1个用户的信息 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; users_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 返回所有用户的信息 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                      &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt;
                                                    &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
                                                    &lt;p&gt;
                                                      这看起来似乎有点奇怪，但是它可以让你使用一个相同的URL&amp;nbsp; 根据实际的HTTP 请求来响应不同的动作。如果某人用了你不允许的方法去调用你的API，那么它会自动返回404错误码。如果你不太懂得HTTP动作的话，让我来解释下：
                                                    &lt;/p&gt;

                                                    &lt;h3&gt;
                                                      &lt;font style=&quot;font-weight: bold&quot;&gt;GET&lt;/font&gt;
                                                    &lt;/h3&gt;

                                                    &lt;p&gt;
                                                      &lt;font style=&quot;font-weight: bold&quot;&gt;不解释&lt;/font&gt;&lt;br /&gt;

                                                      &lt;h3&gt;
                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;POST&lt;/font&gt;
                                                      &lt;/h3&gt;

                                                      &lt;p&gt;
                                                        不解释
                                                      &lt;/p&gt;

                                                      &lt;h3&gt;
                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;PUT&lt;/font&gt;
                                                      &lt;/h3&gt;

                                                      &lt;p&gt;
                                                        比较少用的一个HTTP动作，大多数浏览器都不支持，PUT动作用于创建一个资源。（&lt;font color=&quot;#0000ff&quot;&gt;译者注：与delete对应&lt;/font&gt;）&lt;br /&gt;

                                                        &lt;h3&gt;
                                                          &lt;font style=&quot;font-weight: bold&quot;&gt;DELETE&lt;/font&gt;
                                                        &lt;/h3&gt;

                                                        &lt;p&gt;
                                                          和PUT一样，很少用到。DELETE动作用于删除一个资源.

                                                          &lt;p&gt;
                                                            （&lt;font color=&quot;#0000ff&quot;&gt;译者注：其实GET,POST已经可以完全替代PUT和DELETE的功能，所以后面2个动作非常少用到&lt;/font&gt;）

                                                            &lt;p&gt;
                                                              如果我们把上面的代码，改成允许每个HTTP动作来响应请求user的资源，则，可以写成这样：
                                                            &lt;/p&gt;

                                                            &lt;div class=&quot;dp-highlighter&quot;&gt;
                                                              &lt;div class=&quot;bar&quot;&gt;
                                                              &lt;/div&gt;

                                                              &lt;ol class=&quot;dp-c&quot;&gt;
                                                                &lt;li class=&quot;alt&quot;&gt;
                                                                  &lt;span&gt;&lt;span&gt;&lt;?php&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                    &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;&lt;span&gt;(APPPATH'.libraries/REST_Controller.php');&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                      &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                        &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;span&gt; Example_api &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;span&gt; REST_Controller {&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                          &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// respond with information about a user &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 返回一个用户信息 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                      &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_put()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// create a new user and respond with a status/errors &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 创建一个新用户和返回对应的状态码 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                  &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_post()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// update an existing user and respond with a status/errors &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 更新一个已存在的用户信息和返回对应的状态码 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                              &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_delete()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// delete a user and respond with a status/errors &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 删除一个用户和返回响应状态码 &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                          &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt;
                                                                                                                        &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
                                                                                                                        &lt;p&gt;
                                                                                                                          &amp;nbsp;
                                                                                                                        &lt;/p&gt;

                                                                                                                        &lt;h3&gt;
                                                                                                                          &lt;font style=&quot;font-weight: bold&quot;&gt;接受参数和返回数据&lt;/font&gt;
                                                                                                                        &lt;/h3&gt;

                                                                                                                        &lt;p&gt;
                                                                                                                          so,现在的控制器已经添加好相应的方法来响应不同的HTTP动作了，我们现在需要接受一些参数，然后我们可以使用CodeIgniter里的model和library的方法。正因为有这个好处，我们才使用CodeIgniter来建立我们的API，当然，我们也可以使用我们项目中已经存在的models和libraryies里的方法，而不用重新写过。
                                                                                                                        &lt;/p&gt;

                                                                                                                        &lt;div class=&quot;dp-highlighter&quot;&gt;
                                                                                                                          &lt;div class=&quot;bar&quot;&gt;
                                                                                                                          &lt;/div&gt;

                                                                                                                          &lt;ol class=&quot;dp-c&quot;&gt;
                                                                                                                            &lt;li class=&quot;alt&quot;&gt;
                                                                                                                              &lt;span&gt;&lt;span&gt;&lt;?php&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;&lt;span&gt;(APPPATH'.libraries/REST_Controller.php');&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                  &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                    &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;span&gt; Example_api &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;span&gt; REST_Controller {&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                      &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('returned: '. &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;get('id'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt;);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                    &lt;span&gt;&amp;nbsp&lt;br /&gt; ;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_post()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('returned: '. &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;post('id'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt;);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                              &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_put()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('returned: '. &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;put('id'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt;;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                          &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_delete()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('returned: '. &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;func&quot;&gt;delete&lt;/span&gt;&lt;span&gt;('id'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$data&lt;/span&gt;&lt;span&gt;);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                      &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt;
                                                                                                                                                                                    &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
                                                                                                                                                                                    &lt;h3&gt;
                                                                                                                                                                                      &lt;font style=&quot;font-weight: bold&quot;&gt;$this-&gt;get()&lt;/font&gt;
                                                                                                                                                                                    &lt;/h3&gt;

                                                                                                                                                                                    &lt;p&gt;
                                                                                                                                                                                      用来接收GET参数
                                                                                                                                                                                    &lt;/p&gt;

                                                                                                                                                                                    &lt;h3&gt;
                                                                                                                                                                                      &lt;font style=&quot;font-weight: bold&quot;&gt;$this-&gt;post()&lt;/font&gt;
                                                                                                                                                                                    &lt;/h3&gt;

                                                                                                                                                                                    &lt;p&gt;
                                                                                                                                                                                      是CodeIgniter内置方法$this-&gt;input-&gt;post() 的别名，用来接收$_POST参数, 受到XSS保护。
                                                                                                                                                                                    &lt;/p&gt;

                                                                                                                                                                                    &lt;h3&gt;
                                                                                                                                                                                      &lt;font style=&quot;font-weight: bold&quot;&gt;$this-&gt;put()&lt;/font&gt;
                                                                                                                                                                                    &lt;/h3&gt;

                                                                                                                                                                                    &lt;p&gt;
                                                                                                                                                                                      接收put参数&lt;br /&gt;

                                                                                                                                                                                      &lt;h3&gt;
                                                                                                                                                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;$this-&gt;delete()&lt;/font&gt;
                                                                                                                                                                                      &lt;/h3&gt;

                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                        接收delete参数
                                                                                                                                                                                      &lt;/p&gt;

                                                                                                                                                                                      &lt;h3&gt;
                                                                                                                                                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;$this-&gt;response()&lt;/font&gt;
                                                                                                                                                                                      &lt;/h3&gt;

                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                        发送数据给浏览器，数据格式是什么，默认是XML格式，你可以设置返回的HTTP状态码，例如用户这个例子，加入ID不存在，你可以使用 $this-&gt;response(array(‘error’ =&gt; ‘User not found.’), 404);
                                                                                                                                                                                      &lt;/p&gt;

                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                        &amp;nbsp;&lt;br /&gt;

                                                                                                                                                                                        &lt;h2&gt;
                                                                                                                                                                                          &lt;font style=&quot;font-weight: bold&quot;&gt;第四步：使用你的Models&lt;/font&gt;
                                                                                                                                                                                        &lt;/h2&gt;

                                                                                                                                                                                        &lt;p&gt;
                                                                                                                                                                                          从开始到现在，一个简单的DEMO API已经可以正常运行了。所以，下一步让我们用我们自己的Models来运行这些API
                                                                                                                                                                                        &lt;/p&gt;

                                                                                                                                                                                        &lt;p&gt;
                                                                                                                                                                                          &lt;a href=&quot;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wci0p2tj205j0dt3z6.jpg&quot;&gt;&lt;img style=&quot;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&quot; title=&quot;restserver-important-files&quot; border=&quot;0&quot; alt=&quot;restserver-important-files&quot; src=&quot;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wci0p2tj205j0dt3z6.jpg&quot; width=&quot;203&quot; height=&quot;501&quot; /&gt;&lt;/a&gt;
                                                                                                                                                                                        &lt;/p&gt;

                                                                                                                                                                                        &lt;p&gt;
                                                                                                                                                                                          从下载回来的CodeIgniter中找到上图显示的2个文件，具体位置如下：
                                                                                                                                                                                        &lt;/p&gt;

                                                                                                                                                                                        &lt;ul&gt;
                                                                                                                                                                                          &lt;li&gt;
                                                                                                                                                                                            application/config/rest.php &lt;li&gt;
                                                                                                                                                                                              application/libraries/REST_Controller.php
                                                                                                                                                                                            &lt;/li&gt;&lt;/ul&gt;
                                                                                                                                                                                            &lt;p&gt;
                                                                                                                                                                                              把这2个文件拷入你现有的项目里面，位置不变。下面的完整项目的控制器demo
                                                                                                                                                                                            &lt;/p&gt;

                                                                                                                                                                                            &lt;div class=&quot;dp-highlighter&quot;&gt;
                                                                                                                                                                                              &lt;div class=&quot;bar&quot;&gt;
                                                                                                                                                                                              &lt;/div&gt;

                                                                                                                                                                                              &lt;ol class=&quot;dp-c&quot;&gt;
                                                                                                                                                                                                &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                  &lt;span&gt;&lt;span&gt;&lt;?php&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                    &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt;&lt;span&gt;(APPPATH.'/libraries/REST_Controller.php');&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                        &lt;span&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;span&gt; Api &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;span&gt; REST_Controller&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                          &lt;span&gt;{&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;&lt;span&gt;(!&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;get('id'))&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(NULL, 400);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$user&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;user_model-&gt;get( &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;get('id') );&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$user&lt;/span&gt;&lt;span&gt;)&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$user&lt;/span&gt;&lt;span&gt;, 200); &lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// 200 being the HTTP response code &lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(NULL, 404);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; user_post()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$result&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;user_model-&gt;update( &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;post('id'), &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;(&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 'name' =&gt; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;post('name'),&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 'email' =&gt; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;post('email')&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ));&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$result&lt;/span&gt;&lt;span&gt; === FALSE)&amp;&lt;br /&gt; nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('status' =&gt; 'failed'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;&lt;span&gt;('status' =&gt; 'success'));&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span&gt; users_get()&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$users&lt;/span&gt;&lt;span&gt; = &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;user_model-&gt;get_all();&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$users&lt;/span&gt;&lt;span&gt;)&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                      &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(&lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$users&lt;/span&gt;&lt;span&gt;, 200);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                        &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                          &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                            &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                              &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                                &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;vars&quot;&gt;$this&lt;/span&gt;&lt;span&gt;-&gt;response(NULL, 404);&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                                    &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li class=&quot;alt&quot;&gt;
                                                                                                                                                                                                                                                                                                                      &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
                                                                                                                                                                                                                                                                                                                        &lt;span&gt;?&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;
                                                                                                                                                                                                                                                                                                                      &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
                                                                                                                                                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                                                                                                                                                        这是一个通用型的demo，在第一个方法中，我们先把判断是否有id这个参数，如果没有就返回400状态码，如果有则继续执行，让user_model去获取user，有则返回数据，并返回200状态码，没则返回null以及404状态码。
                                                                                                                                                                                                                                                                                                                      &lt;/p&gt;

                                                                                                                                                                                                                                                                                                                      &lt;h3&gt;
                                                                                                                                                                                                                                                                                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;第五步: API安全&lt;/font&gt;
                                                                                                                                                                                                                                                                                                                      &lt;/h3&gt;

                                                                                                                                                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                                                                                                                                                        现在，你的API已经建立好了。你需要给予相应的调用权限来保护它。设置登陆权限，用户名密码等可以打开 &lt;em&gt;“&lt;font color=&quot;#c0504d&quot;&gt;application/config/rest.php&lt;/font&gt;”文件来修改。&lt;/em&gt;
                                                                                                                                                                                                                                                                                                                      &lt;/p&gt;

                                                                                                                                                                                                                                                                                                                      &lt;ol&gt;
                                                                                                                                                                                                                                                                                                                        &lt;li&gt;
                                                                                                                                                                                                                                                                                                                          $config['rest_auth'] = 'basic';&amp;nbsp; &lt;font color=&quot;#008000&quot;&gt;//设置REST权限&lt;/font&gt;
                                                                                                                                                                                                                                                                                                                        &lt;/li&gt;
                                                                                                                                                                                                                                                                                                                      &lt;/ol&gt;

                                                                                                                                                                                                                                                                                                                      &lt;h3&gt;
                                                                                                                                                                                                                                                                                                                        &lt;font style=&quot;font-weight: bold&quot;&gt;None&lt;/font&gt;
                                                                                                                                                                                                                                                                                                                      &lt;/h3&gt;

                                                                                                                                                                                                                                                                                                                      &lt;p&gt;
                                                                                                                                                                                                                                                                                                                        设置为None的话，所有人都可以调用这个API.&lt;br /&gt;

                                                                                                                                                                                                                                                                                                                        &lt;h3&gt;
                                                                                                                                                                                                                                                                                                                          &lt;font style=&quot;font-weight: bold&quot;&gt;Basic&lt;/font&gt;
                                                                                                                                                                                                                                                                                                                        &lt;/h3&gt;

                                                                                                                                                                                                                                                                                                                        &lt;p&gt;
                                                                                                                                                                                                                                                                                                                          设置为Basic的话，是一个相对不安全的登录方法，它应该只用于内部/安全网络.&lt;br /&gt;

                                                                                                                                                                                                                                                                                                                          &lt;h3&gt;
                                                                                                                                                                                                                                                                                                                            &lt;font style=&quot;font-weight: bold&quot;&gt;Digest&lt;/font&gt;
                                                                                                                                                                                                                                                                                                                          &lt;/h3&gt;

                                                                                                                                                                                                                                                                                                                          &lt;p&gt;
                                                                                                                                                                                                                                                                                                                            这是一个更安全的选项，需要加密的用户名和密码，如果你想受保护的API让有权限的人调用，使用这个选项。

                                                                                                                                                                                                                                                                                                                            &lt;p&gt;
                                                                                                                                                                                                                                                                                                                              &amp;nbsp;

                                                                                                                                                                                                                                                                                                                              &lt;ol&gt;
                                                                                                                                                                                                                                                                                                                                &lt;li&gt;
                                                                                                                                                                                                                                                                                                                                  $config['rest_valid_logins'] = array('admin' =&gt; '1234');&amp;nbsp;
                                                                                                                                                                                                                                                                                                                                &lt;/li&gt;
                                                                                                                                                                                                                                                                                                                              &lt;/ol&gt;

                                                                                                                                                                                                                                                                                                                              &lt;p&gt;
                                                                                                                                                                                                                                                                                                                                这个选项中，可以设置用户的账号和密码，账号是array的key，密码则是对应的value；你可以添加尽可能多的有权限调用你的API的用户进来。
                                                                                                                                                                                                                                                                                                                              &lt;/p&gt;

                                                                                                                                                                                                                                                                                                                              &lt;p&gt;
                                                                                                                                                                                                                                                                                                                                &amp;nbsp;
                                                                                                                                                                                                                                                                                                                              &lt;/p&gt;

                                                                                                                                                                                                                                                                                                                              &lt;p&gt;
                                                                                                                                                                                                                                                                                                                                （&lt;font color=&quot;#0000ff&quot;&gt;译者注：第一部分到此结束。。。有点累，第二部分下次再翻译了。。。预告一下，下一部分主要讲如何建立公开调用的REST API，例如twitter API&amp;nbsp; ， 新浪API&amp;nbsp; 等等&lt;/font&gt;）
                                                                                                                                                                                                                                                                                                                              &lt;/p&gt;
</code></pre></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="http://barbery.me/tags/API">API</a>
  
  <a href="http://barbery.me/tags/CodeIgniter">CodeIgniter</a>
  
  <a href="http://barbery.me/tags/REST">REST</a>
  
  <a href="http://barbery.me/tags/RESTful">RESTful</a>
  
</div>





<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="http://barbery.me/categories/%E5%BC%80%E5%8F%91">开发</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="http://barbery.me/post/2012-08-19-%E4%BD%BF%E7%94%A8CodeIgniter%E5%88%9B%E5%BB%BARESTful%E6%9C%8D%E5%8A%A1RESTAPI%E5%8E%9F%E5%88%9B%E8%AF%91%E6%96%87/" data-title="使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】" data-tsina="" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  



</div>

  </div>
  <footer><div id="footer" >
  
  
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a> © 2018
    
    <a href="http://barbery.me/" title="Barbery&#39;s Blog">Barbery&#39;s Blog</a>
    
  </p>
</div>
</footer>
  <script src="http://barbery.me/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:http:\/\/barbery.me\/ ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="http://barbery.me/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="http://barbery.me/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>




</body>
</html>
