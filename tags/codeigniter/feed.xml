<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Codeigniter on Barbery&#39;s Blog</title>
    <link>http://barbery.me/tags/codeigniter/</link>
    <description>Recent content in Codeigniter on Barbery&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sun, 19 Aug 2012 21:59:00 +0000</lastBuildDate>
    <atom:link href="http://barbery.me/tags/codeigniter/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>使用CodeIgniter 创建 RESTful 服务 REST API【原创译文】</title>
      <link>http://barbery.me/post/2012-08-19-%E4%BD%BF%E7%94%A8CodeIgniter%E5%88%9B%E5%BB%BARESTful%E6%9C%8D%E5%8A%A1RESTAPI%E3%80%90%E5%8E%9F%E5%88%9B%E8%AF%91%E6%96%87%E3%80%91/</link>
      <pubDate>Sun, 19 Aug 2012 21:59:00 +0000</pubDate>
      
      <guid>http://barbery.me/post/2012-08-19-%E4%BD%BF%E7%94%A8CodeIgniter%E5%88%9B%E5%BB%BARESTful%E6%9C%8D%E5%8A%A1RESTAPI%E3%80%90%E5%8E%9F%E5%88%9B%E8%AF%91%E6%96%87%E3%80%91/</guid>
      <description>

&lt;blockquote&gt;
&lt;p&gt;翻译之前，先简单介绍下自己的情况，避免误人子弟。。。本人英语不强（不是谦虚，真是很烂），我只是一个简简单单的CI程序猿。在现在到处都是RESTful服务的时代，我想大家都像我这样有一个疑问，怎么让CI机遇RESTful 服务工作呢。。。我上网一搜，发现有篇国外的文章非常不错，我就简单翻译下，纯粹当成备份了。。。&lt;/p&gt;

&lt;p&gt;牛人可直接看原文，原文地址：&lt;a title=&#34;http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/&#34; href=&#34;http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/&#34; target=&#34;_blank&#34; rel=&#34;nofollow&#34; &gt;&lt;a href=&#34;http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/&#34;&gt;http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&#34;font-style-font-weight-bold-介绍-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;介绍&lt;/font&gt;&lt;/h1&gt;

&lt;p&gt;在现在这个时代，你很容易把例如blog，CMS等等的服务整合到自己的网站里面。有一件事你也许没想过就是利用CodeIgniter去创建API接口。尝试几个RESTful服务的实现方法后，我发现过程非常麻烦，而且缺少你所期望的一些RESTful的功能。所以我自己建了一个，这个教程将告诉你怎样去利用这些代码创建属于自己的REST API，而且我将举些例子告诉你如何与自己搭建的API进行交互。&lt;/p&gt;

&lt;h1 id=&#34;font-style-font-weight-bold-假设-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;假设&lt;/font&gt;&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;你有自己的web 服务器，可以是本地localhost的，也可以是线上的，而且你知道如何去管理里面的问文件&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;你必须阅读过&lt;a title=&#34;CodeIgniter from Scratch&#34; href=&#34;http://net.tutsplus.com/videos/screencasts/codeigniter-from-scratch-day-7-pagination/&#34; target=&#34;_blank&#34; rel=&#34;nofollow&#34; &gt;CodeIgniter from Scratch&lt;/a&gt;教程（译者注：也就是懂得使用CodeIgniter框架）&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;懂得怎么设置CodeIgniter&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;懂一点点RESTful 服务知识&lt;/ul&gt;
这个教程将分成2个部分讲。第一部分将从学习如何搭建RESTful 服务说起，然后深入，第二部分将讲如何用多种方式与自己搭建的REST API交互。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;h1 id=&#34;font-style-font-weight-bold-第一部分-创建rest-api-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;第一部分&amp;mdash;创建REST API&lt;/font&gt;&lt;/h1&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;##&lt;/p&gt;

&lt;p&gt;##&lt;/p&gt;

&lt;h2 id=&#34;font-style-font-weight-bold-第一步-建立demo-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;第一步：建立demo&lt;/font&gt;&lt;/h2&gt;

&lt;p&gt;首先，你需要从Git中下载一份 &lt;a title=&#34;codeigniter-restserver&#34; href=&#34;http://github.com/philsturgeon/codeigniter-restserver&#34; target=&#34;_blank&#34; rel=&#34;nofollow&#34; &gt;codeigniter-restserver&lt;/a&gt; 代码回来。提取里面的代码，放置你的web server里面（&lt;font color=&#34;#0000ff&#34;&gt;译者注：下载方式如图所示，原作者的图片是Git改版前的，不适用于现在，所以本人斗胆替换掉了&lt;/font&gt;）&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ww3.sinaimg.cn/large/6915c7dcjw1e69wa2xfdyj20rx07d0u1.jpg&#34;&gt;&lt;img style=&#34;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&#34; title=&#34;image&#34; border=&#34;0&#34; alt=&#34;image&#34; src=&#34;http://ww3.sinaimg.cn/large/6915c7dcjw1e69wa2xfdyj20rx07d0u1.jpg&#34; width=&#34;640&#34; height=&#34;170&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;下载回来解压后，你会发现这已经是一个完整的CodeIgniter框架。这样可以让大家完整的使用这个 REST demo，而不用添加进自己的文件里才能使用。&lt;/p&gt;

&lt;p&gt;打开&lt;font color=&#34;#c0504d&#34;&gt;&lt;em&gt;“application/config/config.php”&lt;/em&gt; ，&lt;/font&gt;&lt;font color=&#34;#666666&#34;&gt;根据自己的情况设置base_url。。（&lt;font color=&#34;#0000ff&#34;&gt;译者注：其实就是CI的根目录的地址，这个我想用过CI的都懂吧。如果你真的什么都不懂，那么你把下载回来后的文件解压，然后重命名为restserver，把整个文件夹丢到WWW根目录下，把base_url设置成如图所示&lt;/font&gt;）&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ww4.sinaimg.cn/large/6915c7dcjw1e69waq8uqlj20eu04m3yv.jpg&#34;&gt;&lt;img style=&#34;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&#34; title=&#34;set-base-url&#34; border=&#34;0&#34; alt=&#34;set-base-url&#34; src=&#34;http://ww4.sinaimg.cn/large/6915c7dcjw1e69waq8uqlj20eu04m3yv.jpg&#34; width=&#34;640&#34; height=&#34;202&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;h2 id=&#34;font-style-font-weight-bold-第二步-了解url-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;第二步：了解URL&lt;/font&gt;&lt;/h2&gt;

&lt;p&gt;根据第一步的情况，解压好文件，配置好base_url，我们就已经可以访问已经配置好RESTful的CodeIgniter框架了。。打开你的web server，输入你刚才设置的base_url地址，看看是不是已经可以正常访问啦。。&lt;/p&gt;

&lt;p&gt;下面讲解下RESTful 的URL结构。基本情况如图所示：&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wb8qvu1j20go03b0sw.jpg&#34;&gt;&lt;img style=&#34;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&#34; title=&#34;url-disect-2&#34; border=&#34;0&#34; alt=&#34;url-disect-2&#34; src=&#34;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wb8qvu1j20go03b0sw.jpg&#34; width=&#34;640&#34; height=&#34;131&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;（&lt;font color=&#34;#0000ff&#34;&gt;译者注：这里的情况我就不多说了，只是说下RESTful的CodeIgniter与正常的情况下URL结构的差异，前面的传值和URL结构都和正常情况下一致，就是在最后添加了一个参数format，这里可以定义返回的类型&lt;/font&gt;）&lt;/p&gt;

&lt;p&gt;关于format的类型情况，可以看下图&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ww2.sinaimg.cn/large/6915c7dcjw1e69wbsvrx6j20kc09pdgs.jpg&#34;&gt;&lt;img style=&#34;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&#34; title=&#34;output-examples (1)&#34; border=&#34;0&#34; alt=&#34;output-examples (1)&#34; src=&#34;http://ww2.sinaimg.cn/large/6915c7dcjw1e69wbsvrx6j20kc09pdgs.jpg&#34; width=&#34;640&#34; height=&#34;306&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;为了让API提供更丰富的格式选择。。。format类型不仅仅只有上图所列举的3个情况，具体的类型如下所示：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;xml&lt;/strong&gt; – 几乎所有的语言都能识别XML格式&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;json&lt;/strong&gt; – 对javascript和PHP APP非常有用. (&lt;font color=&#34;#0000ff&#34;&gt;译者注：其实还有一个jsonp格式&lt;/font&gt;)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;csv&lt;/strong&gt; – 可以被电子表格程序打开&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;html&lt;/strong&gt; – 不解释&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;php&lt;/strong&gt; – 返回的PHP是可以被eval函数执行过的&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;serialized&lt;/strong&gt; – 序列化格式，对PHP非常有用(&lt;font color=&#34;#0000ff&#34;&gt;译者注：原文有误，记得是有个d结尾&lt;/font&gt;)&lt;/ul&gt;
更RESTful的发送Content-type http 头部的方式将在后面提到。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;h2 id=&#34;font-style-font-weight-bold-第三步-了解代码-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;第三步：了解代码&lt;/font&gt;&lt;/h2&gt;

&lt;p&gt;现在，你打开 “_&lt;font color=&#34;#c0504d&#34;&gt;application/controllers/example_api.php&lt;/font&gt;_”你立即会发现一些与正常CodeIgniter 控制器不同的地方。&lt;/p&gt;

&lt;h3 id=&#34;font-style-font-weight-bold-rest-controller-font&#34;&gt;&lt;font style=&#34;font-weight: bold&#34;&gt;REST_Controller&lt;/font&gt;&lt;/h3&gt;

&lt;p&gt;在MVC模式中，控制器是逻辑运算的中心。它们在用户请求或从控制器中获取数据时或者是需要输出html时，控制器的方法才会被调用。CodeIgniter 有它自己的逻辑来指挥控制器去怎么工作，但是我们现在情况和CodeIgniter不同，我们需要自己的REST_Controller 类 去指挥 相关的REST 逻辑运算，所以我们需要继承REST_Controller这个控制器。&lt;/p&gt;

&lt;p&gt;正常情况下，我们的控制器是这样的&lt;/p&gt;

&lt;div class=&#34;dp-highlighter&#34;&gt;
  &lt;div class=&#34;bar&#34;&gt;
  &lt;/div&gt;

&lt;p&gt;&lt;ol class=&#34;dp-c&#34;&gt;
    &lt;li class=&#34;alt&#34;&gt;
      &lt;span&gt;&lt;span&gt;&amp;lt;?php&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li&gt;
        &lt;span&gt;&lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span&gt; Example_api &lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;extends&lt;/span&gt;&lt;span&gt; Controller {&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;/span&gt; &lt;li class=&#34;alt&#34;&gt;
          &lt;span&gt;&amp;nbsp; &lt;/span&gt; &lt;li&gt;
            &lt;span&gt;}&amp;nbsp;&amp;nbsp; &lt;/span&gt;
          &lt;/li&gt;&lt;/ol&gt; &lt;/div&gt;
          &lt;p&gt;
            现在我们需要变成这样
          &lt;/p&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;      &amp;lt;div class=&amp;quot;dp-highlighter&amp;quot;&amp;gt;
        &amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;
        &amp;lt;/div&amp;gt;

        &amp;lt;ol class=&amp;quot;dp-c&amp;quot;&amp;gt;
          &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
            &amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&amp;lt;?php&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;br /&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
              &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;require&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(APPPATH&#39;.libraries/REST_Controller.php&#39;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                  &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;class&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; Example_api &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;extends&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; REST_Controller {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                    &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                      &amp;lt;span&amp;gt;}&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;
                    &amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt; &amp;lt;/div&amp;gt;
                    &amp;lt;p&amp;gt;
                      （&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;译者注：只能require REST_Controller 不能加入autoload 里面，至于为什么，擦，我也不懂&amp;lt;/font&amp;gt;）
                    &amp;lt;/p&amp;gt;

                    &amp;lt;h3&amp;gt;
                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;添加方法&amp;lt;/font&amp;gt;
                    &amp;lt;/h3&amp;gt;

                    &amp;lt;p&amp;gt;
                      现在，你已经建立一个空的控制器了，那么让我们开始添加一些方法进去。一般来说，你要根据需要的资源和相应的HTTP操作来命名方法名。所以，下面的代码中你将看到有&amp;lt;strong&amp;gt;user&amp;lt;/strong&amp;gt;和&amp;lt;strong&amp;gt;users&amp;lt;/strong&amp;gt; 2个方法。
                    &amp;lt;/p&amp;gt;

                    &amp;lt;div class=&amp;quot;dp-highlighter&amp;quot;&amp;gt;
                      &amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;
                      &amp;lt;/div&amp;gt;

                      &amp;lt;ol class=&amp;quot;dp-c&amp;quot;&amp;gt;
                        &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                          &amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&amp;lt;?php&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                            &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;require&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(APPPATH&#39;.libraries/REST_Controller.php&#39;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                              &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;class&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; Example_api &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;extends&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; REST_Controller {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                  &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 返回关于1个用户的信息 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; users_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 返回所有用户的信息 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                      &amp;lt;span&amp;gt;}&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;
                                                    &amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt; &amp;lt;/div&amp;gt;
                                                    &amp;lt;p&amp;gt;
                                                      这看起来似乎有点奇怪，但是它可以让你使用一个相同的URL&amp;amp;nbsp; 根据实际的HTTP 请求来响应不同的动作。如果某人用了你不允许的方法去调用你的API，那么它会自动返回404错误码。如果你不太懂得HTTP动作的话，让我来解释下：
                                                    &amp;lt;/p&amp;gt;

                                                    &amp;lt;h3&amp;gt;
                                                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;GET&amp;lt;/font&amp;gt;
                                                    &amp;lt;/h3&amp;gt;

                                                    &amp;lt;p&amp;gt;
                                                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;不解释&amp;lt;/font&amp;gt;&amp;lt;br /&amp;gt;

                                                      &amp;lt;h3&amp;gt;
                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;POST&amp;lt;/font&amp;gt;
                                                      &amp;lt;/h3&amp;gt;

                                                      &amp;lt;p&amp;gt;
                                                        不解释
                                                      &amp;lt;/p&amp;gt;

                                                      &amp;lt;h3&amp;gt;
                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;PUT&amp;lt;/font&amp;gt;
                                                      &amp;lt;/h3&amp;gt;

                                                      &amp;lt;p&amp;gt;
                                                        比较少用的一个HTTP动作，大多数浏览器都不支持，PUT动作用于创建一个资源。（&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;译者注：与delete对应&amp;lt;/font&amp;gt;）&amp;lt;br /&amp;gt;

                                                        &amp;lt;h3&amp;gt;
                                                          &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;DELETE&amp;lt;/font&amp;gt;
                                                        &amp;lt;/h3&amp;gt;

                                                        &amp;lt;p&amp;gt;
                                                          和PUT一样，很少用到。DELETE动作用于删除一个资源.

                                                          &amp;lt;p&amp;gt;
                                                            （&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;译者注：其实GET,POST已经可以完全替代PUT和DELETE的功能，所以后面2个动作非常少用到&amp;lt;/font&amp;gt;）

                                                            &amp;lt;p&amp;gt;
                                                              如果我们把上面的代码，改成允许每个HTTP动作来响应请求user的资源，则，可以写成这样：
                                                            &amp;lt;/p&amp;gt;

                                                            &amp;lt;div class=&amp;quot;dp-highlighter&amp;quot;&amp;gt;
                                                              &amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;
                                                              &amp;lt;/div&amp;gt;

                                                              &amp;lt;ol class=&amp;quot;dp-c&amp;quot;&amp;gt;
                                                                &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                  &amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&amp;lt;?php&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                    &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;require&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(APPPATH&#39;.libraries/REST_Controller.php&#39;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                        &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;class&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; Example_api &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;extends&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; REST_Controller {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// respond with information about a user &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 返回一个用户信息 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_put()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// create a new user and respond with a status/errors &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 创建一个新用户和返回对应的状态码 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_post()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// update an existing user and respond with a status/errors &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 更新一个已存在的用户信息和返回对应的状态码 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_delete()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// delete a user and respond with a status/errors &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 删除一个用户和返回响应状态码 &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                          &amp;lt;span&amp;gt;}&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;
                                                                                                                        &amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt; &amp;lt;/div&amp;gt;
                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                          &amp;amp;nbsp;
                                                                                                                        &amp;lt;/p&amp;gt;

                                                                                                                        &amp;lt;h3&amp;gt;
                                                                                                                          &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;接受参数和返回数据&amp;lt;/font&amp;gt;
                                                                                                                        &amp;lt;/h3&amp;gt;

                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                          so,现在的控制器已经添加好相应的方法来响应不同的HTTP动作了，我们现在需要接受一些参数，然后我们可以使用CodeIgniter里的model和library的方法。正因为有这个好处，我们才使用CodeIgniter来建立我们的API，当然，我们也可以使用我们项目中已经存在的models和libraryies里的方法，而不用重新写过。
                                                                                                                        &amp;lt;/p&amp;gt;

                                                                                                                        &amp;lt;div class=&amp;quot;dp-highlighter&amp;quot;&amp;gt;
                                                                                                                          &amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;
                                                                                                                          &amp;lt;/div&amp;gt;

                                                                                                                          &amp;lt;ol class=&amp;quot;dp-c&amp;quot;&amp;gt;
                                                                                                                            &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                              &amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&amp;lt;?php&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;require&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(APPPATH&#39;.libraries/REST_Controller.php&#39;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                    &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;class&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; Example_api &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;extends&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; REST_Controller {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;returned: &#39;. &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;get(&#39;id&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp&amp;lt;br /&amp;gt; ;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_post()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;returned: &#39;. &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;post(&#39;id&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_put()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;returned: &#39;. &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;put(&#39;id&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_delete()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;returned: &#39;. &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;func&amp;quot;&amp;gt;delete&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;id&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$data&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                      &amp;lt;span&amp;gt;}&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;
                                                                                                                                                                                    &amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt; &amp;lt;/div&amp;gt;
                                                                                                                                                                                    &amp;lt;h3&amp;gt;
                                                                                                                                                                                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;$this-&amp;gt;get()&amp;lt;/font&amp;gt;
                                                                                                                                                                                    &amp;lt;/h3&amp;gt;

                                                                                                                                                                                    &amp;lt;p&amp;gt;
                                                                                                                                                                                      用来接收GET参数
                                                                                                                                                                                    &amp;lt;/p&amp;gt;

                                                                                                                                                                                    &amp;lt;h3&amp;gt;
                                                                                                                                                                                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;$this-&amp;gt;post()&amp;lt;/font&amp;gt;
                                                                                                                                                                                    &amp;lt;/h3&amp;gt;

                                                                                                                                                                                    &amp;lt;p&amp;gt;
                                                                                                                                                                                      是CodeIgniter内置方法$this-&amp;gt;input-&amp;gt;post() 的别名，用来接收$_POST参数, 受到XSS保护。
                                                                                                                                                                                    &amp;lt;/p&amp;gt;

                                                                                                                                                                                    &amp;lt;h3&amp;gt;
                                                                                                                                                                                      &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;$this-&amp;gt;put()&amp;lt;/font&amp;gt;
                                                                                                                                                                                    &amp;lt;/h3&amp;gt;

                                                                                                                                                                                    &amp;lt;p&amp;gt;
                                                                                                                                                                                      接收put参数&amp;lt;br /&amp;gt;

                                                                                                                                                                                      &amp;lt;h3&amp;gt;
                                                                                                                                                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;$this-&amp;gt;delete()&amp;lt;/font&amp;gt;
                                                                                                                                                                                      &amp;lt;/h3&amp;gt;

                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                        接收delete参数
                                                                                                                                                                                      &amp;lt;/p&amp;gt;

                                                                                                                                                                                      &amp;lt;h3&amp;gt;
                                                                                                                                                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;$this-&amp;gt;response()&amp;lt;/font&amp;gt;
                                                                                                                                                                                      &amp;lt;/h3&amp;gt;

                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                        发送数据给浏览器，数据格式是什么，默认是XML格式，你可以设置返回的HTTP状态码，例如用户这个例子，加入ID不存在，你可以使用 $this-&amp;gt;response(array(‘error’ =&amp;gt; ‘User not found.’), 404);
                                                                                                                                                                                      &amp;lt;/p&amp;gt;

                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                        &amp;amp;nbsp;&amp;lt;br /&amp;gt;

                                                                                                                                                                                        &amp;lt;h2&amp;gt;
                                                                                                                                                                                          &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;第四步：使用你的Models&amp;lt;/font&amp;gt;
                                                                                                                                                                                        &amp;lt;/h2&amp;gt;

                                                                                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                                                                                          从开始到现在，一个简单的DEMO API已经可以正常运行了。所以，下一步让我们用我们自己的Models来运行这些API
                                                                                                                                                                                        &amp;lt;/p&amp;gt;

                                                                                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                                                                                          &amp;lt;a href=&amp;quot;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wci0p2tj205j0dt3z6.jpg&amp;quot;&amp;gt;&amp;lt;img style=&amp;quot;background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px&amp;quot; title=&amp;quot;restserver-important-files&amp;quot; border=&amp;quot;0&amp;quot; alt=&amp;quot;restserver-important-files&amp;quot; src=&amp;quot;http://ww1.sinaimg.cn/large/6915c7dcjw1e69wci0p2tj205j0dt3z6.jpg&amp;quot; width=&amp;quot;203&amp;quot; height=&amp;quot;501&amp;quot; /&amp;gt;&amp;lt;/a&amp;gt;
                                                                                                                                                                                        &amp;lt;/p&amp;gt;

                                                                                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                                                                                          从下载回来的CodeIgniter中找到上图显示的2个文件，具体位置如下：
                                                                                                                                                                                        &amp;lt;/p&amp;gt;

                                                                                                                                                                                        &amp;lt;ul&amp;gt;
                                                                                                                                                                                          &amp;lt;li&amp;gt;
                                                                                                                                                                                            application/config/rest.php &amp;lt;li&amp;gt;
                                                                                                                                                                                              application/libraries/REST_Controller.php
                                                                                                                                                                                            &amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;
                                                                                                                                                                                            &amp;lt;p&amp;gt;
                                                                                                                                                                                              把这2个文件拷入你现有的项目里面，位置不变。下面的完整项目的控制器demo
                                                                                                                                                                                            &amp;lt;/p&amp;gt;

                                                                                                                                                                                            &amp;lt;div class=&amp;quot;dp-highlighter&amp;quot;&amp;gt;
                                                                                                                                                                                              &amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;
                                                                                                                                                                                              &amp;lt;/div&amp;gt;

                                                                                                                                                                                              &amp;lt;ol class=&amp;quot;dp-c&amp;quot;&amp;gt;
                                                                                                                                                                                                &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&amp;lt;?php&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;require&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(APPPATH.&#39;/libraries/REST_Controller.php&#39;);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;class&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; Api &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;extends&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; REST_Controller&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                          &amp;lt;span&amp;gt;{&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(!&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;get(&#39;id&#39;))&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(NULL, 400);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$user&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;user_model-&amp;gt;get( &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;get(&#39;id&#39;) );&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$user&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;)&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$user&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;, 200); &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;// 200 being the HTTP response code &amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;else&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(NULL, 404);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; user_post()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$result&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;user_model-&amp;gt;update( &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;post(&#39;id&#39;), &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &#39;name&#39; =&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;post(&#39;name&#39;),&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &#39;email&#39; =&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;post(&#39;email&#39;)&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; ));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$result&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; === FALSE)&amp;amp;&amp;lt;br /&amp;gt; nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;status&#39; =&amp;gt; &#39;failed&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;else&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;array&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&#39;status&#39; =&amp;gt; &#39;success&#39;));&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;function&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; users_get()&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$users&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; = &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;user_model-&amp;gt;get_all();&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$users&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;)&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$users&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;, 200);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                          &amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                            &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;else&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                              &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; {&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                                &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;vars&amp;quot;&amp;gt;$this&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;-&amp;gt;response(NULL, 404);&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                                  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                                    &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp; }&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li class=&amp;quot;alt&amp;quot;&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;span&amp;gt;}&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt; &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;span&amp;gt;?&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp; &amp;lt;/span&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt; &amp;lt;/div&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                        这是一个通用型的demo，在第一个方法中，我们先把判断是否有id这个参数，如果没有就返回400状态码，如果有则继续执行，让user_model去获取user，有则返回数据，并返回200状态码，没则返回null以及404状态码。
                                                                                                                                                                                                                                                                                                                      &amp;lt;/p&amp;gt;

                                                                                                                                                                                                                                                                                                                      &amp;lt;h3&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;第五步: API安全&amp;lt;/font&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;/h3&amp;gt;

                                                                                                                                                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                        现在，你的API已经建立好了。你需要给予相应的调用权限来保护它。设置登陆权限，用户名密码等可以打开 &amp;lt;em&amp;gt;“&amp;lt;font color=&amp;quot;#c0504d&amp;quot;&amp;gt;application/config/rest.php&amp;lt;/font&amp;gt;”文件来修改。&amp;lt;/em&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;/p&amp;gt;

                                                                                                                                                                                                                                                                                                                      &amp;lt;ol&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                                          $config[&#39;rest_auth&#39;] = &#39;basic&#39;;&amp;amp;nbsp; &amp;lt;font color=&amp;quot;#008000&amp;quot;&amp;gt;//设置REST权限&amp;lt;/font&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;/li&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;/ol&amp;gt;

                                                                                                                                                                                                                                                                                                                      &amp;lt;h3&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;None&amp;lt;/font&amp;gt;
                                                                                                                                                                                                                                                                                                                      &amp;lt;/h3&amp;gt;

                                                                                                                                                                                                                                                                                                                      &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                        设置为None的话，所有人都可以调用这个API.&amp;lt;br /&amp;gt;

                                                                                                                                                                                                                                                                                                                        &amp;lt;h3&amp;gt;
                                                                                                                                                                                                                                                                                                                          &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;Basic&amp;lt;/font&amp;gt;
                                                                                                                                                                                                                                                                                                                        &amp;lt;/h3&amp;gt;

                                                                                                                                                                                                                                                                                                                        &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                          设置为Basic的话，是一个相对不安全的登录方法，它应该只用于内部/安全网络.&amp;lt;br /&amp;gt;

                                                                                                                                                                                                                                                                                                                          &amp;lt;h3&amp;gt;
                                                                                                                                                                                                                                                                                                                            &amp;lt;font style=&amp;quot;font-weight: bold&amp;quot;&amp;gt;Digest&amp;lt;/font&amp;gt;
                                                                                                                                                                                                                                                                                                                          &amp;lt;/h3&amp;gt;

                                                                                                                                                                                                                                                                                                                          &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                            这是一个更安全的选项，需要加密的用户名和密码，如果你想受保护的API让有权限的人调用，使用这个选项。

                                                                                                                                                                                                                                                                                                                            &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                              &amp;amp;nbsp;

                                                                                                                                                                                                                                                                                                                              &amp;lt;ol&amp;gt;
                                                                                                                                                                                                                                                                                                                                &amp;lt;li&amp;gt;
                                                                                                                                                                                                                                                                                                                                  $config[&#39;rest_valid_logins&#39;] = array(&#39;admin&#39; =&amp;gt; &#39;1234&#39;);&amp;amp;nbsp;
                                                                                                                                                                                                                                                                                                                                &amp;lt;/li&amp;gt;
                                                                                                                                                                                                                                                                                                                              &amp;lt;/ol&amp;gt;

                                                                                                                                                                                                                                                                                                                              &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                                这个选项中，可以设置用户的账号和密码，账号是array的key，密码则是对应的value；你可以添加尽可能多的有权限调用你的API的用户进来。
                                                                                                                                                                                                                                                                                                                              &amp;lt;/p&amp;gt;

                                                                                                                                                                                                                                                                                                                              &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                                &amp;amp;nbsp;
                                                                                                                                                                                                                                                                                                                              &amp;lt;/p&amp;gt;

                                                                                                                                                                                                                                                                                                                              &amp;lt;p&amp;gt;
                                                                                                                                                                                                                                                                                                                                （&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;译者注：第一部分到此结束。。。有点累，第二部分下次再翻译了。。。预告一下，下一部分主要讲如何建立公开调用的REST API，例如twitter API&amp;amp;nbsp; ， 新浪API&amp;amp;nbsp; 等等&amp;lt;/font&amp;gt;）
                                                                                                                                                                                                                                                                                                                              &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>