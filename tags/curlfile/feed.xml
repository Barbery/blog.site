<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Curlfile on Barbery&#39;s Blog</title>
    <link>http://barbery.me/tags/curlfile/</link>
    <description>Recent content in Curlfile on Barbery&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 01 May 2014 12:52:00 +0000</lastBuildDate>
    <atom:link href="http://barbery.me/tags/curlfile/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>关于php 5.5 CURLFile上传的问题</title>
      <link>http://barbery.me/post/2014-05-01-%E5%85%B3%E4%BA%8Ephp5.5CURLFile%E4%B8%8A%E4%BC%A0%E7%9A%84%E9%97%AE%E9%A2%98/</link>
      <pubDate>Thu, 01 May 2014 12:52:00 +0000</pubDate>
      
      <guid>http://barbery.me/post/2014-05-01-%E5%85%B3%E4%BA%8Ephp5.5CURLFile%E4%B8%8A%E4%BC%A0%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
      <description>&lt;p&gt;最近用curl上传文件，发现报错&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The usage of the @filename API for file uploading is deprecated. Please use the CURLFile class instead&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;原来是PHP5.5废弃了&lt;code&gt;@&lt;/code&gt;这种模式，只需要把原来的：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php
$data = array(
    &#39;file&#39; =&amp;gt; &#39;@/PATH/TO/FILE&#39;,
    //....其他字段
);
curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;换成&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;$data = array(
    &#39;file&#39; =&amp;gt; new CURLFile(&#39;/PATH/TO/FILE&#39;),
    //....其他字段
);
curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>